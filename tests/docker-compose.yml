version: '3'

networks:
  scheduler:
    driver: bridge

services:
  pytest_redis:
    image: 'docker.io/bitnami/redis:6.0-debian-10'
    environment:
      # ALLOW_EMPTY_PASSWORD is recommended only for development.
      - ALLOW_EMPTY_PASSWORD=yes
      - REDIS_DISABLE_COMMANDS=FLUSHDB,FLUSHALL
    ports:
      - '1000:6379'
    volumes:
      - 'redis_data:/bitnami/redis/data'
    container_name: pytest_redis
    networks:
      - scheduler
  pytest_grizly_notebook:
    image: grizly_notebook:latest
    build:
      context: .
      args:
        docker_user: $USERNAME
    ports:
      - "1001:8888"
    volumes:
      - C:\Users\eg013949\platform\local\docker_home:/home/analyst
    container_name: pytest_grizly_notebook
    restart: "always"
    networks:
      - scheduler

volumes:
  redis_data:
    driver: local